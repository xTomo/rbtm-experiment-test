{
	"info": {
		"_postman_id": "284522d2-422f-4ea3-a29c-801561791dac",
		"name": "RBTM Experiment",
		"description": "RBTM Experiment",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Experiment",
			"item": [
				{
					"name": "Start",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5043d335-f443-430f-b0d9-b6b2a37e0949",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Power on');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{experimentUrl}}/start",
							"host": [
								"{{experimentUrl}}"
							],
							"path": [
								"start"
							]
						}
					},
					"response": []
				},
				{
					"name": "Stop",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8202979e-1314-458c-a4b8-5ffe38ac0e72",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest(null);",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{experimentUrl}}/stop",
							"host": [
								"{{experimentUrl}}"
							],
							"path": [
								"stop"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "State",
			"item": [
				{
					"name": "State",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b3c2de2f-7d0b-474f-afd8-e4aef6c14dca",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Open shutter');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{stateUrl}}",
							"host": [
								"{{stateUrl}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Source",
			"item": [
				{
					"name": "Power on",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "02554539-f68d-45f4-825e-aadd0ceab545",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Set voltage');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{sourceUrl}}/power-on",
							"host": [
								"{{sourceUrl}}"
							],
							"path": [
								"power-on"
							]
						}
					},
					"response": []
				},
				{
					"name": "Power off",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "19baeedf-c019-4d4c-9313-8ba8f33de041",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Stop');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{sourceUrl}}/power-off",
							"host": [
								"{{sourceUrl}}"
							],
							"path": [
								"power-off"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set voltage",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7c3fcc04-bcd0-4eb1-9b78-af9e0d30b40e",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Set current');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{sourceUrl}}/set-voltage",
							"host": [
								"{{sourceUrl}}"
							],
							"path": [
								"set-voltage"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set current",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5b5466a6-7402-4102-a0be-828af0ba005c",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Get voltage');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{sourceUrl}}/set-current",
							"host": [
								"{{sourceUrl}}"
							],
							"path": [
								"set-current"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get voltage",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11c19744-0a14-45e1-997a-e527cbba94be",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Get current');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{sourceUrl}}/get-voltage",
							"host": [
								"{{sourceUrl}}"
							],
							"path": [
								"get-voltage"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get current",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "71a0e89a-be76-4bfd-b25c-25d7226cac6a",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('State');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{sourceUrl}}/get-current",
							"host": [
								"{{sourceUrl}}"
							],
							"path": [
								"get-current"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Shutter",
			"item": [
				{
					"name": "Open shutter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d597d7c6-018e-4b47-950d-bdaca61b7a2c",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Shutter state');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{shutterUrl}}/open/1",
							"host": [
								"{{shutterUrl}}"
							],
							"path": [
								"open",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Close shutter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4d04b09d-7d5a-4b28-b736-54bb9a378f48",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Get frame with closed shutter');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{shutterUrl}}/close/1",
							"host": [
								"{{shutterUrl}}"
							],
							"path": [
								"close",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Shutter state",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e3d15053-5f02-481d-a753-0b4a82896335",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Set horizontal position');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{shutterUrl}}/state",
							"host": [
								"{{shutterUrl}}"
							],
							"path": [
								"state"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Motor",
			"item": [
				{
					"name": "Set horizontal position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7d5230c1-ff3b-4304-82c4-92d749ad6204",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Get horizontal position');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "0"
						},
						"url": {
							"raw": "{{motorUrl}}/set-horizontal-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"set-horizontal-position"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set vertical position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "66f5e034-1bdb-46f6-8fc7-e9d67872098c",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Get vertical position');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "0"
						},
						"url": {
							"raw": "{{motorUrl}}/set-vertical-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"set-vertical-position"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set angle position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dd4ee112-313f-4faf-b3c3-96b225f9a570",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Get angle position');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "0"
						},
						"url": {
							"raw": "{{motorUrl}}/set-angle-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"set-angle-position"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get horizontal position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2d466505-1309-4197-b0a7-6fa9c91eccd9",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Set vertical position');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{motorUrl}}/get-horizontal-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"get-horizontal-position"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get vertical position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6f1ee5e1-cab9-4994-9765-881a2203379f",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Set angle position');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{motorUrl}}/get-vertical-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"get-vertical-position"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get angle position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1d91524d-06c0-4f11-8a43-5457ecc5cb1e",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Move away');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{motorUrl}}/get-angle-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"get-angle-position"
							]
						}
					},
					"response": []
				},
				{
					"name": "Move away",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d86c87d1-e09f-4736-aa39-1833c0606c39",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Move back');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{motorUrl}}/move-away",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"move-away"
							]
						}
					},
					"response": []
				},
				{
					"name": "Move back",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "47a14bb8-dd85-4514-8fd2-896dd49a511a",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{motorUrl}}/move-back",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"move-back"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reset angle position",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "decd030a-3e5a-4542-89a2-25f4d288c2ff",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{motorUrl}}/reset-angle-position",
							"host": [
								"{{motorUrl}}"
							],
							"path": [
								"reset-angle-position"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Detector",
			"item": [
				{
					"name": "Get frame",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2ad68f31-684c-4d60-9eb9-ea6b75580cb5",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Chip temp');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{detectorUtl}}/get-frame",
							"host": [
								"{{detectorUtl}}"
							],
							"path": [
								"get-frame"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get frame with closed shutter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f06ec752-9429-40a0-8b76-ecbf9c435be6",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Power off');",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{detectorUtl}}/get-frame-with-closed-shutter",
							"host": [
								"{{detectorUtl}}"
							],
							"path": [
								"get-frame-with-closed-shutter"
							]
						}
					},
					"response": []
				},
				{
					"name": "Chip temp",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b2a7d622-102c-4de2-b99b-e116ad9a19a6",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{detectorUtl}}/chip_temp",
							"host": [
								"{{detectorUtl}}"
							],
							"path": [
								"chip_temp"
							]
						}
					},
					"response": []
				},
				{
					"name": "Hous temp",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ca61af9e-e4e0-469e-abb0-43ac9ae467d9",
								"type": "text/javascript",
								"exec": [
									"pm.test('response is ok', () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('response is success', () => {",
									"    ",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"",
									"});",
									"",
									"postman.setNextRequest('Close shutter');",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{detectorUtl}}/hous_temp",
							"host": [
								"{{detectorUtl}}"
							],
							"path": [
								"hous_temp"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}